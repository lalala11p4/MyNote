#### 十.权限介绍

##### 1.文件权限介绍

​	![1564412418507](E:\Typora笔记\Pic\1564412418507.png)

​	-：

​		-:普通文件									c:字符设备（键盘鼠标）

​		d:目录										   b:块文件，硬盘

​		l：软链接

​	rw-：

​		标识文件所有者拥有的权限

​		r  读权限     w  写权限

​	r--：

​		文件所在组的用户拥有的权限

​		只有读的权限

​	r--：

​		文件的其他组的用户的权限

​		只有读的权限

​	1：

​		文件的话，为1，是硬链接

​		目录的话，代表子目录有多少个

​	root：

​		文件创建者

​	root：

​		文件所在组

​	0：

​		文件的大小

​		如果是目录，会是4096

​	7月：

​		代表文件最后的修改时间

##### 2.rwx权限介绍

作用在文件上

​	r:代表可读，可以读取，查看

​	w:可以修改，但是不代表可以删除文件，能删除文件的前提下是对该文件所在的目录有写的权限

​	x:代表可执行的（execute）

作用在目录上

​	r:代表可读，可以读取，ls查看目录内容

​	w:可写，可以修改，目录内创建+删除+重命名目录

​	x:代表可执行（execute）可以进入该目录

##### 3.修改权限（chmod）

​	通过chmod指令，可以修改文件或者目录的权限

​	第一种方式：

​			u:所有者

​			g:所有组

​			o：其他人

​			a:所有人（u，g，o的总和）

​			chmod u=rwx,  g=rx,  o=x   文件目录名

​				给文件所有者读写执行的权限，给所有组的其他人读和执行的权利

​				给其他人执行的权限

​			chmod o+w

​				给其他人增加一个写的的权限

​			chmod  o-w

​				给所有的用户取消执行的权限

​	例：给abc文件的所有者读写执行的权限，给所在组读，执行的权限，给其他组读，执行权限

​		chmod u=rwx,g=rx,o=rx   abc

![1564468951698](E:\Typora笔记\Pic\1564468951698.png)

​	例：给abc文件的所有者去除执行的权限，增加组写的权限

​			chmod u-x,g+w abc![1564469965380](E:\Typora笔记\Pic\1564469965380.png)

​	例：给abc文件的所有用户增加读的权限

​			chmod    a+r    abc

​	![1564470180576](E:\Typora笔记\Pic\1564470180576.png)

​			

​	第二种方式;通过数字进行变更权限

​		r = 4       w=2      x=1       rwx=4+2+1=7

​		chmod    u=rwx,g=rx,o=x   文件目录名	

​		相当于 ：  chmod   751    文件目录名

​	例：将/home/abc.txt文件的权限修改为rwxr-xr-x,   使用数字的方式实现

​			chmod   755   /home/abc.txt

##### 4.修改文件所有者

​	chown  newowner  file   改变文件的所有者

​	chown  newowner:newgroup  file   改变文件的所有者和所有组

​	-R    如果是目录，则使其目录下的所有文件递归生效，改变所有者或者所有组

​	例：将/home/abc.txt文件所有者修改为tom

![1564473516348](E:\Typora笔记\Pic\1564473516348.png)

​	例：将/home/kkk目录下所有文件和目录的所有者修改为tom

​			chown   -R   tom   kkk/*![1564473668020](E:\Typora笔记\Pic\1564473668020.png)

​		**将kkk目录下所有文件，包括子目录一起更改所有者**

​	例：将/home/abc.txt 文件所在组修改为bandit

​			chgrp   bandit   /home/abc.txt

​	例：将/home/kkk 目录下的所有文件和所在组改为bandit（土匪）

​			chgrp -R bandit  /home/kkk

![1564477175206](E:\Typora笔记\Pic\1564477175206.png)

##### 5.综合实例：警察和土匪例子

​	警察：jack   jerry   

​	土匪：xh  xq

​	1）创建组

​	2）创建用户

![1564479451267](E:\Typora笔记\Pic\1564479451267.png)

​	3）jack创建一个文件,自己可以读写，本组人可以读，其他组人没有任何权限

![1564479821434](E:\Typora笔记\Pic\1564479821434.png)

​	4）jack修改该文件，让其他组的人可以读，本组人可以读写

![1564479930292](E:\Typora笔记\Pic\1564479930292.png)

​	5）xh投靠警察，看看是否可以读写

​		先用root修改xh的组

![1564480767904](E:\Typora笔记\Pic\1564480767904.png)

​		使用jack给他自己的家目录 /home/jack  所在组  rw  权限

![1564480805320](E:\Typora笔记\Pic\1564480805320.png)

​		xh需要重新登录再到jack目录就可以进行读写操作

![1564480832161](E:\Typora笔记\Pic\1564480832161.png)

​	





​	

​	

​	

​		